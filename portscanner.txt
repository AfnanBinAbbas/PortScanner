#!/bin/python3



import sys

import socket



if len(sys.argv) == 2:

	target = socket.gethostbyname(sys.argv[1]) #Translate the hostname to IPv4



else:

	print("Invalid amount of arguments")

	print("python3 portscanner.sh <ip>")



try:

	for port in range (50,80):

		s=socket.socket(socket.AF_INET, socket.SOCK_STREAM)

		socket.setdefaulttimeout(1)

		result = s.connect_ex((target,port))

		if result == 0:

			print(f"Port {port} is open")

		s.close()



except keyboardInterrupt:

	print("\nExiting the scan")

	sys.exit()

	

except socket.gaierror:

	print("\nHostname could not be resolved")

	sys_exit()

	

except socket.error:

	print("\nCould not connect to server.")

